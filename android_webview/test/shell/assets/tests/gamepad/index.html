<html>
<body>
<script src="../../VRWebGL.js"></script>
<script>
	var canvas = document.createElement("canvas");
	var gl = canvas.getContext("webgl");

	var s = "";
	var gamepads = navigator.getGamepads();
	var gamepad = null;
	for (var i = 0; i < gamepads.length; i++) {
		console.log(gamepads[i]);
		if (gamepads[i]) {
			gamepad = gamepads[i];
			s += gamepads[i].id + (i < gamepads.length - 1 ? ", " : "");
		}
	}
	if (s === "") {
		s = "No gamepads found"
	}
	alert("Gamepads: " + s + " - " + gamepad.pose);

	if (gamepad) {
		console.log("gamepad = " + gamepad);
		function raf() {
				console.log("gamepad: pose(" + gamepad.pose.orientation[0] + ", " + gamepad.pose.orientation[1] + ", " + gamepad.pose.orientation[2] + ", " + gamepad.pose.orientation[3] + "), button0(" + gamepad.buttons[0].value + ", " + (gamepad.buttons[0].pressed ? "YES" : "NO") + "), x(" + gamepad.axes[0] + "), y(" + gamepad.axes[1] + ")");
			requestAnimationFrame(raf);
		}
		requestAnimationFrame(raf);
	}
</script>
</body>
</html>